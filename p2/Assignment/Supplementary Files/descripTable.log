         Table "cs421g18.precaution"
 Column |          Type          | Modifiers 
--------+------------------------+-----------
 pname  | character varying(255) | not null
Indexes:
    "precaution_pkey" PRIMARY KEY, btree (pname)
Referenced by:
    TABLE "apply" CONSTRAINT "apply_pname_fkey" FOREIGN KEY (pname) REFERENCES precaution(pname)
    TABLE "prevent" CONSTRAINT "prevent_pname_fkey" FOREIGN KEY (pname) REFERENCES precaution(pname)

          Table "cs421g18.prevent"
 Column |          Type          | Modifiers 
--------+------------------------+-----------
 pname  | character varying(255) | not null
 vname  | character varying(255) | not null
Indexes:
    "prevent_pkey" PRIMARY KEY, btree (pname, vname)
Foreign-key constraints:
    "prevent_pname_fkey" FOREIGN KEY (pname) REFERENCES precaution(pname)
    "prevent_vname_fkey" FOREIGN KEY (vname) REFERENCES virus(vname)

                Table "cs421g18.medium"
      Column      |          Type          | Modifiers 
------------------+------------------------+-----------
 mname            | character varying(255) | not null
 contagious_level | integer                | 
Indexes:
    "medium_pkey" PRIMARY KEY, btree (mname)
Check constraints:
    "medium_contagious_level_check" CHECK (1 <= contagious_level AND contagious_level <= 5)
Referenced by:
    TABLE "spread" CONSTRAINT "spread_mname_fkey" FOREIGN KEY (mname) REFERENCES medium(mname)

             Table "cs421g18.patient"
   Column    |          Type          | Modifiers 
-------------+------------------------+-----------
 nationality | character varying(255) | not null
 national_id | character varying(255) | not null
 name        | character varying(255) | 
 gender      | character(1)           | 
 age         | integer                | 
Indexes:
    "patient_pkey" PRIMARY KEY, btree (nationality, national_id)
Referenced by:
    TABLE "accommodation" CONSTRAINT "accommodation_nationality_fkey" FOREIGN KEY (nationality, national_id) REFERENCES patient(nationality, national_id)
    TABLE "exhibit" CONSTRAINT "exhibit_nationality_fkey" FOREIGN KEY (nationality, national_id) REFERENCES patient(nationality, national_id)
    TABLE "infect" CONSTRAINT "infect_nationality_fkey" FOREIGN KEY (nationality, national_id) REFERENCES patient(nationality, national_id)

         Table "cs421g18.vaccination"
  Column  |          Type          | Modifiers 
----------+------------------------+-----------
 rname    | character varying(255) | not null
 iname    | character varying(255) | not null
 code     | character varying(255) | not null
 price    | integer                | 
 vname    | character varying(255) | 
 currency | character varying(50)  | 
Indexes:
    "vaccination_pkey" PRIMARY KEY, btree (rname, iname, code)
Check constraints:
    "pricecelling" CHECK (rname::text <> 'China'::text OR price < 22)
Foreign-key constraints:
    "vaccination_rname_fkey" FOREIGN KEY (rname, iname) REFERENCES institute(rname, iname)

           Table "cs421g18.incur"
 Column |          Type          | Modifiers 
--------+------------------------+-----------
 vname  | character varying(255) | not null
 sname  | character varying(255) | not null
Indexes:
    "incur_pkey" PRIMARY KEY, btree (vname, sname)
Foreign-key constraints:
    "incur_sname_fkey" FOREIGN KEY (sname) REFERENCES symptom(sname)
    "incur_vname_fkey" FOREIGN KEY (vname) REFERENCES virus(vname)

Did not find any relation named "against".
             Table "cs421g18.symptom"
   Column    |          Type           | Modifiers 
-------------+-------------------------+-----------
 sname       | character varying(255)  | not null
 description | character varying(1000) | 
Indexes:
    "symptom_pkey" PRIMARY KEY, btree (sname)
Referenced by:
    TABLE "exhibit" CONSTRAINT "exhibit_sname_fkey" FOREIGN KEY (sname) REFERENCES symptom(sname)
    TABLE "incur" CONSTRAINT "incur_sname_fkey" FOREIGN KEY (sname) REFERENCES symptom(sname)

               Table "cs421g18.virus"
    Column     |          Type           | Modifiers 
---------------+-------------------------+-----------
 vname         | character varying(255)  | not null
 type          | character varying(255)  | 
 danger_degree | integer                 | 
 annotation    | character varying(1000) | 
Indexes:
    "virus_pkey" PRIMARY KEY, btree (vname)
Check constraints:
    "virus_danger_degree_check" CHECK (danger_degree > 0 AND danger_degree < 6)
Referenced by:
    TABLE "incur" CONSTRAINT "incur_vname_fkey" FOREIGN KEY (vname) REFERENCES virus(vname)
    TABLE "infect" CONSTRAINT "infect_vname_fkey" FOREIGN KEY (vname) REFERENCES virus(vname)
    TABLE "prevent" CONSTRAINT "prevent_vname_fkey" FOREIGN KEY (vname) REFERENCES virus(vname)
    TABLE "spread" CONSTRAINT "spread_vname_fkey" FOREIGN KEY (vname) REFERENCES virus(vname)

           Table "cs421g18.region"
 Column |          Type          | Modifiers 
--------+------------------------+-----------
 rname  | character varying(255) | not null
Indexes:
    "region_pkey" PRIMARY KEY, btree (rname)
Referenced by:
    TABLE "apply" CONSTRAINT "apply_rname_fkey" FOREIGN KEY (rname) REFERENCES region(rname)
    TABLE "closed_border" CONSTRAINT "closed_border_r1rname_fkey" FOREIGN KEY (r1rname) REFERENCES region(rname)
    TABLE "closed_border" CONSTRAINT "closed_border_r2rname_fkey" FOREIGN KEY (r2rname) REFERENCES region(rname)
    TABLE "hospital" CONSTRAINT "hospital_rname_fkey" FOREIGN KEY (rname) REFERENCES region(rname)
    TABLE "institute" CONSTRAINT "institute_rname_fkey" FOREIGN KEY (rname) REFERENCES region(rname)
    TABLE "research_institute" CONSTRAINT "research_institute_rname_fkey" FOREIGN KEY (rname) REFERENCES region(rname)

          Table "cs421g18.institute"
 Column  |          Type          | Modifiers 
---------+------------------------+-----------
 rname   | character varying(255) | not null
 iname   | character varying(255) | not null
 address | character varying(255) | not null
Indexes:
    "institute_pkey" PRIMARY KEY, btree (rname, iname)
Foreign-key constraints:
    "institute_rname_fkey" FOREIGN KEY (rname) REFERENCES region(rname)
Referenced by:
    TABLE "vaccination" CONSTRAINT "vaccination_rname_fkey" FOREIGN KEY (rname, iname) REFERENCES institute(rname, iname)

          Table "cs421g18.hospital"
 Column  |          Type          | Modifiers 
---------+------------------------+-----------
 rname   | character varying(255) | not null
 iname   | character varying(255) | not null
 address | character varying(255) | not null
Indexes:
    "hospital_pkey" PRIMARY KEY, btree (rname, iname)
Foreign-key constraints:
    "hospital_rname_fkey" FOREIGN KEY (rname) REFERENCES region(rname)
Referenced by:
    TABLE "accommodation" CONSTRAINT "accommodation_iname_fkey" FOREIGN KEY (iname, rname) REFERENCES hospital(iname, rname)

     Table "cs421g18.research_institute"
 Column  |          Type          | Modifiers 
---------+------------------------+-----------
 rname   | character varying(255) | not null
 iname   | character varying(255) | not null
 address | character varying(255) | not null
Indexes:
    "research_institute_pkey" PRIMARY KEY, btree (rname, iname)
Foreign-key constraints:
    "research_institute_rname_fkey" FOREIGN KEY (rname) REFERENCES region(rname)

             Table "cs421g18.infect"
   Column    |          Type          | Modifiers 
-------------+------------------------+-----------
 vname       | character varying(255) | not null
 nationality | character varying(255) | not null
 national_id | character varying(255) | not null
 state       | character varying(255) | not null
 begin_time  | date                   | not null
 end_time    | date                   | 
Indexes:
    "infect_pkey" PRIMARY KEY, btree (vname, nationality, national_id, begin_time)
Check constraints:
    "infect_check" CHECK (end_time IS NULL OR begin_time <= end_time)
    "logic" CHECK (state::text = 'cure'::text OR end_time = NULL::date)
Foreign-key constraints:
    "infect_nationality_fkey" FOREIGN KEY (nationality, national_id) REFERENCES patient(nationality, national_id)
    "infect_vname_fkey" FOREIGN KEY (vname) REFERENCES virus(vname)

         Table "cs421g18.closed_border"
   Column   |         Type          | Modifiers 
------------+-----------------------+-----------
 r1rname    | character varying(20) | not null
 r2rname    | character varying(20) | not null
 begin_time | date                  | not null
 end_time   | date                  | 
Indexes:
    "closed_border_pkey" PRIMARY KEY, btree (r1rname, r2rname)
Foreign-key constraints:
    "closed_border_r1rname_fkey" FOREIGN KEY (r1rname) REFERENCES region(rname)
    "closed_border_r2rname_fkey" FOREIGN KEY (r2rname) REFERENCES region(rname)

             Table "cs421g18.exhibit"
   Column    |          Type          | Modifiers 
-------------+------------------------+-----------
 sname       | character varying(255) | not null
 nationality | character varying(255) | not null
 national_id | character varying(255) | not null
Indexes:
    "exhibit_pkey" PRIMARY KEY, btree (sname, nationality, national_id)
Foreign-key constraints:
    "exhibit_nationality_fkey" FOREIGN KEY (nationality, national_id) REFERENCES patient(nationality, national_id)
    "exhibit_sname_fkey" FOREIGN KEY (sname) REFERENCES symptom(sname)

           Table "cs421g18.spread"
 Column |          Type          | Modifiers 
--------+------------------------+-----------
 vname  | character varying(255) | 
 mname  | character varying(255) | 
Foreign-key constraints:
    "spread_mname_fkey" FOREIGN KEY (mname) REFERENCES medium(mname)
    "spread_vname_fkey" FOREIGN KEY (vname) REFERENCES virus(vname)

             Table "cs421g18.apply"
   Column   |          Type          | Modifiers 
------------+------------------------+-----------
 rname      | character varying(255) | not null
 pname      | character varying(255) | not null
 begin_time | date                   | not null
 end_time   | date                   | 
Indexes:
    "apply_pkey" PRIMARY KEY, btree (rname, pname, begin_time)
Check constraints:
    "apply_check" CHECK (end_time IS NULL OR begin_time <= end_time)
Foreign-key constraints:
    "apply_pname_fkey" FOREIGN KEY (pname) REFERENCES precaution(pname)
    "apply_rname_fkey" FOREIGN KEY (rname) REFERENCES region(rname)

          Table "cs421g18.accommodation"
   Column    |          Type          | Modifiers 
-------------+------------------------+-----------
 nationality | character varying(255) | not null
 national_id | character varying(255) | not null
 iname       | character varying(255) | not null
 rname       | character varying(255) | not null
 begin_time  | date                   | not null
 end_time    | date                   | 
Indexes:
    "accommodation_pkey" PRIMARY KEY, btree (nationality, national_id, iname, rname)
Check constraints:
    "accommodation_check" CHECK (end_time IS NULL OR begin_time <= end_time)
    "datecheck" CHECK (begin_time < '2020-02-28'::date AND end_time < '2020-02-28'::date)
Foreign-key constraints:
    "accommodation_iname_fkey" FOREIGN KEY (iname, rname) REFERENCES hospital(iname, rname)
    "accommodation_nationality_fkey" FOREIGN KEY (nationality, national_id) REFERENCES patient(nationality, national_id)

